<vl:BLOCK name="set_reset_latch">
    <vl:INPUT name="set" scope="local" datatype="boolean" size="1"/>
    <vl:INPUT name="reset" scope="local" datatype="boolean" size="1"/>
    <vl:NOT name="not_reset">
        <vl:CONNECTION to="input" from="reset"/>
    </vl:NOT>
    <vl:AND name="latch_and_not_reset">
        <vl:CONNECTION to="input1" from="set_or_mem"/>
        <vl:CONNECTION to="input2" from="not_reset"/>
    </vl:AND>
    <vl:OR name="set_or_mem">
        <vl:CONNECTION to="input1" from="set"/>
        <vl:CONNECTION to="input2" from="latch_lp"/>
    </vl:OR>
    <vl:MEM name="latch_lp" datatype="boolean" ic="false">
        <vl:CONNECTION to="current" from="latch_and_not_reset"/>
    </vl:MEM>
    <vl:OUTPUT name="latch" datatype="boolean" scope="local" size="1">
        <vl:CONNECTION to="latch" from="latch_and_not_reset"/>
    </vl:OUTPUT>
</vl:BLOCK>
