\documentclass[titlepage]{article}
\usepackage[a5paper,margin=0.5in]{geometry}

%% Force using more of the margins than default
%\setlength{\oddsidemargin}{0.1in}
%\setlength{\evensidemargin}{0.1in}
%\setlength{\textwidth}{6.5in}
%\setlength{\topmargin}{0in}
%\setlength{\textheight}{8.5in}

%% Header
\usepackage{fancyhdr,lastpage}
\usepackage[mmddyyyy]{datetime}
\renewcommand{\dateseparator}{/}
\fancypagestyle{plain}{
    \fancyhf{} %Clear Everything.
    \rhead{ Page \thepage\ of \pageref{LastPage} }
    \setlength{\headheight}{24pt}
    \setlength{\footskip}{24pt}
    \renewcommand{\headrulewidth}{1pt} %0pt for no rule, 2pt thicker etc...
    \renewcommand{\footrulewidth}{0pt}
}
\pagestyle{plain}
\usepackage{indentfirst}

%% Tables 
\usepackage{longtable}
\newcommand{\specialcell}[2][l]{%
      \begin{tabular}[#1]{@{}c@{}}#2\end{tabular}
}

%% Items
\usepackage{enumitem}

% new command \replace{string}{substring}{replacestring}
\def\replace#1#2#3{%
    \def\tmp##1#2{##1#3\tmp}%
        \tmp#1\stopreplace#2\stopreplace}
\def\stopreplace#1\stopreplace{}

%% Code Listings
\usepackage{minted}
\usepackage{listings}
\usepackage{color} % for colored solution
%\usepackage[svgnames]{xcolor}
\usepackage{caption}

% Custom macro for code listings from files
\newcommand{\srccode}[4]{
    \inputminted[frame=single,linenos,fontsize=\footnotesize]
        {#1}                    % language e.g. ocaml
        {#2}                    % filename e.g. ../src/vislang.ml
    \captionof{listing}
        {\replace{#2}{../}{vislang/} % replaces ../src/* with vislang/src/*
            \label{#3}          % label e.g. src:top
            : #4}               % description e.g. Top Level
}

% Custom language for XML
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\lstdefinelanguage{XML}
{
    basicstyle=\ttfamily\footnotesize,
    morestring=[b]",
    moredelim=[s][\bfseries\color{maroon}]{<}{\ },
    moredelim=[s][\bfseries\color{maroon}]{</}{>},
    moredelim=[l][\bfseries\color{maroon}]{/>},
    moredelim=[l][\bfseries\color{maroon}]{>},
    morecomment=[s]{<?}{?>},
    morecomment=[s]{<!--}{-->},
    commentstyle=\color{darkgreen},
    stringstyle=\color{blue},
    identifierstyle=\color{red}
    %morekeywords={name,type,scope,address,value,to,from,
    %              initial\_condition,reference}
}
\lstset
{
    language=XML,
    basicstyle=\footnotesize\ttfamily,
    tabsize=4,
    keepspaces=false,
    keywordstyle=\color{red},
    identifierstyle=\color{blue},
    commentstyle=\color{green},
    frame=single,
    captionpos=t%, % sets the caption-position to top
    %morestring=[s]{"}{"},
    %morecomment=[s]{!--}{--},
    %morekeywords={name,type,scope,address,value,to,from,
    %              initial\_condition,reference}
}

\newcommand{\includecode}[1]{\lstinputlisting[caption=#1]{#1}}

% For title page
\title{VisLang: A visual language specification}
\author{Bryant Eisenbach (UNI: bje2113)}
\date{Date: \today}

\begin{document}
% This command creates a title page
\maketitle
\pagebreak

\tableofcontents
\pagebreak

\listoffigures
\pagebreak

\listoftables
\pagebreak

\listoflistings
\pagebreak

\input{introduction}
\pagebreak

\input{tutorial}
\pagebreak

\input{lang-ref}
\pagebreak

\input{project-plan}
\pagebreak

\input{architecture}
\pagebreak

\input{test-plan}
\pagebreak

\input{conclusion}
\pagebreak

\input{appendix}

\end{document}
